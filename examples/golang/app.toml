namespace = "default"
appbase = "helloworld-maven-0.5.1.tgz"
pipeline = "jenkins"
cluster = "c2"
helmrepo = "chartmuseum"

[jenkins]
steps = ["git", "build-and-push", "helm"]

[chart]
name = "blockip"
version = "0.1.0"
appVersion = "1.0"
apiVersion = "v1"
description = "A Helm chart for Kubernetes, Auto generated by jxl"

[git]
repo = "http://git.fccs.com/fccs_zj/blockIP.git"
branch = "master"

[docker]

[helm]
replicaCount = 1
projectid = 81
imagePullSecrets = "myregistrykey"
command =  []
args = []

  [helm.image]
  repository = "registry.docker.fccs.cn:28888"
  name = "zj/golang/blockip"
  tag = "latest"
  pullPolicy = "IfNotPresent"

  [helm.service]
  type = "LoadBalancer"
  port = 8080
  targetport = 8080
  loadBalancerIP = "10.30.100.81"
  healthCheck = "/ping"

  [helm.resources]
    [helm.resources.requests]
    memory = "512Mi"
    cpu = "200m"
    [helm.resources.limits]
    memory = "2Gi"
    cpu = "1000m"

  [helm.env]
    [helm.env.podInfo]
    name = "podInfo"
      [helm.env.podInfo.data]
      MY_POD_NAME = "metadata.name"
      MY_POD_NAMESPACE = "metadata.namespace"
      MY_POD_IP = "status.podIP"

    [helm.env.otherInfo]
    name = "otherInfo"
      [helm.env.otherInfo.data]

  [helm.securityContext]
  runAsUser = 0
  fsGroup = 0
